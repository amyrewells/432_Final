---
title: "FeatureSelection"
author: "Amyre"
date: "2025-03-24"
output: html_document
---

# Feature Selection (for RF)

### Get abundance data

***Read in relative OTU table***

```{r}
rel_data<- read.csv("../data/otu_rel.csv")
```

***Remove irrelevant rows***

```{r}
rel_data<- rel_data[, 2:(ncol(rel_data)-1) ]
```

### Get total counts

***Sum rows***

```{r}
rel_row_sums<- rowSums(rel_data)
```

***Get total***

```{r}
total<- sum(rel_row_sums)
```

### Filter

Only keep OTUs that make up more than 0.5% of the observed microbes

```{r}
filtered_data <- rel_data[rel_row_sums / total > 0.005, ]
```

### Export data

```{r}
write.csv(filtered_data, file = "../data/otu_filtered.csv", row.names = TRUE)
```
